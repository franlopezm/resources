# M042 - New Features and Tools in MongoDB 4.2

## Transactions
[More info][transactions]

- Guidelines:
    1. All data modeling rules still apply
    2. Transactions should not be the most common operation
    3. Pass in the session to all statements
    4. Implement retry logic, transactions can always abort
    5. Don't unnecessarily leave snapshots open
    6. To trigger write conflicts, make sure ypu're doing writes
    7. Plan for DDL Operations

- Optimizing Sharded Transactions:
    1. Target a single shard
        - Target queries by including the shard key in your query
        - If you do not include the shard key in your query, all shards will be targeted
    2. If chunks are accessed together, collocate those chunks together
        - A chunk is a set of documents within a defined range of shard key values
        - By leveraging zones to collocate chunks, a transaction is more likely to target a single shard

## Atlas Data Lake
[More info][atlasDataLake]

Using Atlas Data Lake to ingest your S3 data into Atlas clusters allows you to quickly query data stored in your AWS S3 buckets using the bin.mongo shell, MongoDB Compass, and any MongoDB driver.

## Kafka Connector
[More info][kafka]

Apache Kafka is a distributed streaming platform that implements a publish-subscribe pattern to offer streams of data with a durable and scalable framework.

The MongoDB Kafka connector is a Confluent-verified connector that persists data from Kafka topics as a data sink into MongoDB as well as publishes changes from MongoDB into Kafka topics as a data source.

## Geospatial Charts
[More info][chartsGeo]

Geospatial data defines specific geographical locations, either in the form of latitude and longitude coordinates or text fields with names of geographical areas, such as countries or states. Geospatial charts combine geospatial data with other forms of data to create map-based charts.

## Charts Embedding
[More info][chartsEmbed]

As a dashboard Author, you can allow your charts to be embedded in external websites or shared via links. You can either:

- Embed an unauthenticated chart which is viewable by anyone, or
- Embed a chart which requires users to authenticate through an Embedding Authentication Provider.


[transactions]: https://docs.mongodb.com/master/core/transactions/#transactions-api
[atlasDataLake]: https://docs.mongodb.com/datalake/
[kafka]: https://docs.mongodb.com/kafka-connector
[chartsGeo]: https://docs.mongodb.com/charts/master/chart-type-reference/geo-spatial/
[chartsEmbed]: https://docs.mongodb.com/charts/master/embedding-charts/